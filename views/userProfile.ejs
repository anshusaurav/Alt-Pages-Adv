<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Alt-Pages</title>
    <link rel="stylesheet" href="/stylesheets/profile.css"/>
    <script src="https://kit.fontawesome.com/f4ce9ea80b.js" crossorigin="anonymous"></script>
    
  </head>
  <body>
    <div class="profile-container">
    <div class="profilecontent">
      <div class="profilepic"><img class="responsive-img" src="/images/cartman.png"/></div>
      <h1 class='name-profile'><%= visitor.name %></h1>
      <h2 class='bio-profile'>
        <%= visitor.bio %>
      </h2>
      <% if(visitor.id !== user.id) { %>
        <% if(visitor.followers.includes(user.id)) { %>
          <a href="/users/<%= visitor.id %>/unfollow" class='pfu profile-follow-user'>Following</a>
        <% } else {%>
          <a href="/users/<%= visitor.id %>/follow" class='pfu profile-unfollow-user'>Follow</a>
        <% } %>
      <% } %>
      <div class="button-container">
        <a id=PhotoCount>
          <%= visitor.articles.length %>
          <h4 class='profile-heading'>Articles</h4>
        </a>
        <a id=Followers>
          <%= visitor.followers.length %>
          <h4 class='profile-heading'>Followers</h4>
        </a>
        <a id=Following>
          <%= visitor.following.length %>
          <h4 class='profile-heading'>Following</h4>
        </a>
      </div>
    </div>
    <div class=contentcontainer>
      
      <div id=Photos_title><h3>Articles</h3></div>
      <div class='photos'>
        <% visitor.articles.forEach((elem) => { %>
          <div class='profile-article-elem'>
            <p><%=elem.title %></p>
          </div>
        <% });%>
        
      </div>
      
    </div>
    <% if(user.id === visitor.id) { %>
      <div class='profile-edit-div'>
        <a href=''>
          <i class="fas fa-user-edit"></i>
        </a>
      </div>
    <% } %>
  </div>
  </body>
  </html>